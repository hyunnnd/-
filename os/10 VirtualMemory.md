## 📘Background (Virtual Memory)

- **명령어는 물리 메모리에 있어야 실행 가능함**
  - → 그렇다면 전체 프로그램을 메모리에 올려야 할까?

- **일부 코드는 실행 중 거의 사용되지 않음**
  - 예외 처리 코드
  - 필요 이상으로 큰 배열/리스트
  - 자주 호출되지 않는 서브루틴 등

- **대안**
  - 프로그램의 일부만 메모리에 올리고 실행하는 방식
  - → 가상 메모리 개념의 필요성 제시

- **프로그램을 부분적으로 메모리에 올려 실행할 수 있다면** 다음과 같은 이점이 있음:
  - 물리 메모리 크기에 의해 프로그램 실행이 제한되지 않음
  - 동시에 더 많은 프로그램을 실행 가능
  - 프로그램을 로드하거나 스왑하는 데 필요한 I/O 감소


## 📘 Virtual Memory

- **가상 메모리(Virtual Memory)**: 사용자 논리 메모리와 물리 메모리의 분리
- 장점:
  - 프로그램 일부만 메모리에 올려도 실행 가능
  - 논리 주소 공간이 물리 주소 공간보다 훨씬 클 수 있음
  - 여러 프로세스가 주소 공간을 공유 가능
  - 프로세스 생성 효율 향상 (예: Copy-on-Write)
  - 동시에 더 많은 프로그램 실행 가능
  - 프로그램 로드·스왑 시 I/O 비용 감소
  - ![[Pasted image 20250513141000.png]]

> ⬅ 그림 설명: 논리 메모리는 물리 메모리 및 보조 저장장치와 매핑되어 있음




## 📘 Virtual Address Space

- **가상 주소 공간(Virtual Address Space)**: 프로세스가 메모리에 저장되는 논리적 구조
- 특징:
  - 일반적으로 주소 0부터 시작하여 연속적인 주소로 구성
  - 실제 물리 메모리는 페이지 프레임 단위로 구성됨
  - MMU(Memory Management Unit)가 논리 주소를 물리 주소에 매핑
  - 프로그래머는 메모리 관리 부담을 덜 수 있음
  - 가상 주소 공간은 **희소(sparse)**할 수 있음
    - 예: 스택/힙이 확장되거나 동적 라이브러리 연결 시 중간 공간이 채워짐
![[Pasted image 20250513141303.png]]

> ⬅ 그림 설명: 코드, 데이터, 힙, 스택 영역으로 구성된 전형적인 가상 주소 공간 구조