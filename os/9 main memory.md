## Swapping

**Swapping**은 프로세스를 메모리에서 임시로 백업 저장소(backing store)로 옮겼다가, 나중에 다시 메모리로 가져와 실행을 계속할 수 있도록 하는 기법임.

- 전체 프로세스의 물리적 메모리 요구량이 실제 물리 메모리 용량을 초과할 수 있도록 해 줌
- **백업 저장소(backing store)**: 모든 사용자에 대한 메모리 이미지를 저장할 수 있을 만큼 충분히 큰 고속 디스크임. 운영체제는 여기에 직접 접근 가능해야 함
- 시스템은 디스크에 메모리 이미지를 갖고 있는 준비 상태의 프로세스들을 위한 ready queue를 유지함

### 그림 설명

- 운영체제는 메인 메모리 상단에 상주
- 사용자 공간에는 현재 실행 중인 프로세스가 존재
- `swap out`: 프로세스 P₁을 메인 메모리에서 백업 저장소로 이동
- `swap in`: 저장소에 있던 프로세스 P₂를 메인 메모리로 불러와 실행


## Context Switch Time including Swapping

- CPU에 올릴 다음 프로세스가 메모리에 없을 경우, 현재 프로세스를 `swap out` 하고 대상 프로세스를 `swap in` 해야 함
- 이로 인해 **문맥 교환 시간(context switch time)** 이 매우 커질 수 있음

### 스왑 시간의 대부분은 **전송 시간(transfer time)** 이 차지
- 전송 시간은 스왑되는 메모리 크기에 **비례함**

### 예시
- 프로세스 크기: 100MB  
- 디스크 전송 속도: 50MB/sec  
- 스왑 아웃 시간 = 100MB / 50MB/s = 2초 = 2000ms  
- 스왑 인 시간 = 100MB / 50MB/s = 2초 = 2000ms  
- **총 문맥 교환 시간 = 2000ms + 2000ms = 4000ms (4초)**

> 스왑을 포함한 문맥 교환은 디스크 I/O 속도에 따라 매우 느려질 수 있으며, 이는 시스템 반응성과 성능에 큰 영향을 미침
